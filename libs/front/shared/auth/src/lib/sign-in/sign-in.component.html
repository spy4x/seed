<div
  class="container-fluid"
  style="background: url('https://picsum.photos/1440/900') center no-repeat; background-size: cover"
>
  <div class="d-flex align-items-center justify-content-center min-vh-100">
    <ng-container *ngIf="user$ | async as user; else signInMethods">
      <div class="w-50 shadow-sm p-5 rounded bg-white-75">
        <h2 class="mb-3">Welcome back!</h2>
        <div class="d-flex align-items-center">
          <div class="d-inline-block text-break me-3">UserId: {{ user.uid }}</div>
          <button
            class="btn btn-outline-info btn-icon align-self-baseline"
            [cdkCopyToClipboard]="user.uid"
            (cdkCopyToClipboardCopied)="copyStatus.userId = $event"
          >
            <i *ngIf="copyStatus.userId" class="feather-check-circle"></i>
            <i *ngIf="!copyStatus.userId" class="feather-copy"></i>
          </button>
        </div>

        <div class="d-flex align-items-center" *ngIf="jwt$ | async as jwt">
          <div class="d-inline-block text-break me-3">JWT: {{ jwt }}</div>
          <button
            class="btn btn-outline-info btn-icon align-self-baseline"
            [cdkCopyToClipboard]="jwt"
            (cdkCopyToClipboardCopied)="copyStatus.jwt = $event"
          >
            <i *ngIf="copyStatus.jwt" class="feather-check-circle"></i>
            <i *ngIf="!copyStatus.jwt" class="feather-copy"></i>
          </button>
        </div>

        <div class="d-flex align-items-center" *ngIf="fcm$ | async as fcm">
          <div class="d-inline-block text-break me-3">FCM: {{ fcm }}</div>
          <button
            class="btn btn-outline-info btn-icon align-self-baseline"
            [cdkCopyToClipboard]="fcm"
            (cdkCopyToClipboardCopied)="copyStatus.fcm = $event"
          >
            <i *ngIf="copyStatus.fcm" class="feather-check-circle"></i>
            <i *ngIf="!copyStatus.fcm" class="feather-copy"></i>
          </button>
        </div>

        <div class="d-flex">
          <button class="btn btn-outline-secondary mt-4 ms-auto" (click)="signOut()">Sign out</button>
        </div>
      </div>
    </ng-container>

    <ng-template #signInMethods>
      <div class="w-25 shadow-sm p-5 rounded bg-white-75">
        <h2 class="mb-3">Welcome!</h2>
        <p>Please use one of sign in methods below.</p>
        <button data-cy="anonymous" (click)="signIn(SignInMethods.anonymous)" class="btn btn-primary w-100">
          Sign in anonymously
        </button>
      </div>
    </ng-template>
  </div>
</div>
